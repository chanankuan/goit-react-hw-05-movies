"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[488],{8975:function(n,e,t){t(2791);e.Z=t.p+"static/media/circle-plus-solid.5b72eeb1f600a62a1e30be9087759fd7.svg"},8143:function(n,e,t){t(2791);e.Z=t.p+"static/media/player.3117d05d2ccd02497da662e1bd37ed59.svg"},1799:function(n,e,t){t.d(e,{fO:function(){return p},vJ:function(){return h},TP:function(){return f},MS:function(){return g},CE:function(){return m},Df:function(){return l}});var r=t(5861),i=t(4687),a=t.n(i),o=t(1591),c=t.p+"static/media/default-backdrop.118a8dfe1c8c6643d999.jpeg",s=t(5303),u=function(n){var e=n.id,t=n.imdb_id,r=n.original_language,i=n.original_title,a=n.overview,o=n.backdrop_path,u=n.poster_path,d=n.release_date,l=n.tagline,p=n.title,f=n.vote_average,m=n.runtime,h=n.genres;return{id:e,imdb_id:t,original_language:r,original_title:i,overview:a,backdrop_path:o?"https://image.tmdb.org/t/p/w300".concat(o):c,poster_path:u?"https://image.tmdb.org/t/p/w300".concat(u):s,release_date:d.slice(0,4),tagline:l,title:p,vote_average:f,runtime:m,genres:h.map((function(n){return n.name})).join(", ")}},d=t(3708);o.Z.defaults.baseURL="https://api.themoviedb.org/3";var l=function(){var n=(0,r.Z)(a().mark((function n(){var e,t;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.Z.get("trending/movie/day?language=en-US",d.Y);case 2:return e=n.sent,t=e.data,n.abrupt("return",t.results);case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),p=function(){var n=(0,r.Z)(a().mark((function n(e,t){var r,i;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.Z.get("search/movie?query=".concat(e,"&include_adult=false&language=en-US&page=").concat(t),d.Y);case 2:return r=n.sent,i=r.data,n.abrupt("return",i);case 5:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),f=function(){var n=(0,r.Z)(a().mark((function n(e){var t,r,i;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.Z.get("movie/".concat(e,"?language=en-US"),d.Y);case 2:return t=n.sent,r=t.data,i=u(r),n.abrupt("return",i);case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),m=function(){var n=(0,r.Z)(a().mark((function n(e){var t,r;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.Z.get("movie/".concat(e,"/reviews?language=en-US"),d.Y);case 2:return t=n.sent,r=t.data,n.abrupt("return",r.results);case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),h=function(){var n=(0,r.Z)(a().mark((function n(e){var t,r;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.Z.get("movie/".concat(e,"/credits?language=en-US"),d.Y);case 2:return t=n.sent,r=t.data,n.abrupt("return",r.cast);case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),g=function(){var n=(0,r.Z)(a().mark((function n(e){var t,r;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.Z.get("https://api.themoviedb.org/3/movie/".concat(e,"/videos?language=en-US"),d.Y);case 2:return t=n.sent,r=t.data,n.abrupt("return",r.results.filter((function(n){return"Official Trailer"===n.name}))[0]);case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},5973:function(n,e,t){t.d(e,{$0:function(){return l},J5:function(){return f},JO:function(){return m},W2:function(){return d},zx:function(){return p}});var r,i,a,o,c,s=t(168),u=t(3081),d=u.Z.div(r||(r=(0,s.Z)(["\n  padding: 20px;\n  margin: 0 auto;\n  @media screen and (min-width: 375px) {\n    max-width: 375px;\n  }\n  @media screen and (min-width: 768px) {\n    padding-left: 32px;\n    padding-right: 32px;\n    max-width: 768px;\n  }\n  @media screen and (min-width: 980px) {\n    max-width: 980px;\n  }\n"]))),l=u.Z.section(i||(i=(0,s.Z)([""]))),p=u.Z.button(a||(a=(0,s.Z)(["\n  background-color: transparent;\n  border: none;\n  outline: none;\n  padding: 0;\n"]))),f=u.Z.img(o||(o=(0,s.Z)(["\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n"]))),m=u.Z.img(c||(c=(0,s.Z)([""])))},854:function(n,e,t){t.d(e,{a:function(){return a}});var r=t(8273),i=t(184),a=function(){return(0,i.jsx)("div",{style:{position:"fixed",left:0,top:0,width:"100vw",height:"100vh",backdropFilter:"blur(10px)",zIndex:999},children:(0,i.jsx)(r.rj,{color:"#00BFFF",height:80,width:80,wrapperStyle:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}})})}},3708:function(n,e,t){t.d(e,{Y:function(){return r}});var r={method:"GET",headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI4NGJmYmIyNTA2NmM5ZTJhNjhkNzA0NmFkNTgxYjBlYyIsInN1YiI6IjY1NmI0YTY5MDg1OWI0MDEzOTUxMmZhMCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.JHtQht9lLzVGn8qQlSLZwC1_-cT8AoKj26qDOrlg0qc"}}},5395:function(n,e,t){t.r(e),t.d(e,{default:function(){return rn}});var r,i=t(9439),a=t(2791),o=t(7689),c=t(1799),s=t(854),u=t(5973),d=t(168),l=t(3081),p=l.Z.div(r||(r=(0,d.Z)(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 400px;\n\n  &::before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background: "," center no-repeat;\n    background-size: cover;\n    filter: blur(5px);\n    z-index: -1;\n  }\n\n  & img {\n    cursor: pointer;\n    transition: transform 200ms ease-in-out;\n\n    &:hover {\n      transform: scale(1.1);\n    }\n  }\n\n  @media screen and (min-width: 1000px) {\n    height: 600px;\n  }\n"])),(function(n){return"url(".concat(n.backdrop,")")})),f=t(8143),m=t(184),h=function(n){var e=n.imgUrl,t=n.handleOpen;return(0,m.jsx)(u.$0,{children:(0,m.jsx)(p,{backdrop:e,children:(0,m.jsx)(u.zx,{type:"button",onClick:t,children:(0,m.jsx)(u.JO,{src:f.Z,alt:"Player icon"})})})})},g=t(697),x=t(4324),v={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"90vmin",height:"50vmin",boxShadow:24},b=function(n){var e=n.open,t=n.handleClose,r=n.videoKey;return(0,m.jsx)("div",{children:(0,m.jsx)(x.Z,{open:e,onClose:t,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,m.jsx)(g.Z,{sx:v,children:(0,m.jsx)("iframe",{width:"100%",height:"100%",src:"https://www.youtube.com/embed/".concat(r),title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!0})})})})},Z=t(3433);var w=t.p+"static/media/arrow-left.567b21a05121f629595bb76d634d6614.svg";var j=t.p+"static/media/calendar.a2c750bfb96164d712b7f70302a83088.svg";var y=t.p+"static/media/clock.8a08241799d75b73e01d21bf94b602fc.svg";var k=t.p+"static/media/ticket.08b594ddd70873d207d701332a6fc65c.svg",_=t(8975);var I,S,J,O,z,Y,C,N,T,U,F,W,M,G,L=t.p+"static/media/circle-minus-solid.64131f9e70c3e10d62b499c6cf062172.svg",A=t(1087),Q=(0,l.Z)(A.rU)(I||(I=(0,d.Z)(["\n  display: flex;\n  align-items: center;\n  width: fit-content;\n  column-gap: 10px;\n  font-size: 0.8rem;\n  margin-bottom: 20px;\n  transition: transform 200ms ease-in-out;\n  &:hover {\n    transform: scale(1.05);\n  }\n"]))),B=l.Z.div(S||(S=(0,d.Z)(["\n  @media screen and (min-width: 768px) {\n    display: flex;\n    align-items: center;\n    column-gap: 30px;\n  }\n"]))),D=l.Z.img(J||(J=(0,d.Z)(["\n  border-radius: 16px;\n  width: 200px;\n  height: 300px;\n  margin: 0 auto;\n  margin-bottom: 20px;\n  @media screen and (min-width: 768px) {\n    margin: 0;\n  }\n"]))),E=l.Z.h1(O||(O=(0,d.Z)(["\n  color: #fff;\n  font-family: Poppins;\n  font-size: 1.8rem;\n  font-style: normal;\n  font-weight: 600;\n  line-height: normal;\n  max-width: 350px;\n  margin-bottom: 40px;\n"]))),q=l.Z.div(z||(z=(0,d.Z)([""]))),H=(l.Z.div(Y||(Y=(0,d.Z)([""]))),l.Z.ul(C||(C=(0,d.Z)(["\n  display: flex;\n  justify-content: center;\n  flex-wrap: wrap;\n  column-gap: 30px;\n  row-gap: 10px;\n  margin-bottom: 20px;\n  @media screen and (min-width: 768px) {\n    justify-content: start;\n  }\n"])))),P=l.Z.li(N||(N=(0,d.Z)(["\n  position: relative;\n  display: flex;\n  align-items: center;\n  column-gap: 6px;\n\n  &:not(:last-of-type)::after {\n    content: '';\n    position: absolute;\n    top: 50%;\n    right: -15px;\n    transform: translateY(-50%);\n    height: 120%;\n    width: 1px;\n    background-color: #92929d;\n  }\n"]))),$=(0,l.Z)(u.zx)(T||(T=(0,d.Z)(["\n  display: flex;\n  align-items: center;\n  column-gap: 10px;\n  color: #fff;\n  padding: 0;\n  margin-bottom: 20px;\n"]))),K=l.Z.span(U||(U=(0,d.Z)(["\n  color: #92929d;\n  font-size: 0.8rem;\n"]))),R=l.Z.p(F||(F=(0,d.Z)(["\n  font-size: 1rem;\n  line-height: 150%;\n  margin-bottom: 20px;\n"]))),V=function(n){var e=n.movieId,t=n.backLinkHref,r=n.poster,o=n.title,c=n.release_date,s=n.runtime,d=n.genres,l=n.vote_average,p=n.overview,f=(0,a.useState)(JSON.parse(localStorage.getItem("movieIds"))||[]),h=(0,i.Z)(f,2),g=h[0],x=h[1],v=(0,a.useState)(g.some((function(n){return n===e}))),b=(0,i.Z)(v,2),I=b[0],S=b[1];(0,a.useEffect)((function(){localStorage.setItem("movieIds",JSON.stringify(g))}),[g]);return(0,m.jsx)(u.$0,{children:(0,m.jsxs)(u.W2,{children:[(0,m.jsxs)(Q,{to:t,children:[(0,m.jsx)("img",{src:w,alt:"Go back",width:16})," Go back"]}),(0,m.jsxs)(B,{children:[(0,m.jsx)(D,{src:r,alt:o}),(0,m.jsxs)(q,{children:[(0,m.jsx)(E,{children:o}),(0,m.jsxs)(H,{children:[(0,m.jsxs)(P,{children:[(0,m.jsx)(u.JO,{src:j,alt:"Calendar icon",width:20}),(0,m.jsx)(K,{children:c})]}),(0,m.jsxs)(P,{children:[(0,m.jsx)(u.JO,{src:y,alt:"Clock icon",width:20}),(0,m.jsxs)(K,{children:[s," Minutes"]})]}),(0,m.jsxs)(P,{children:[(0,m.jsx)(u.JO,{src:k,alt:"Ticket icon",width:20}),(0,m.jsx)(K,{children:d})]})]}),(0,m.jsxs)($,{type:"button",onClick:function(){return I?function(n){console.log("handle delete: "+n),x((function(e){return e.filter((function(e){return e!==n}))})),S((function(n){return!n}))}(e):function(n){console.log("handle add: "+n),x((function(e){return[].concat((0,Z.Z)(e),[n])})),S((function(n){return!n}))}(e)},children:[(0,m.jsx)(u.JO,{src:I?L:_.Z,alt:"".concat(I?"Delete":"Add"," icon")}),"Watchlist"]}),(0,m.jsxs)(R,{children:["User score:"," ",Number.isInteger(10*l)?(10*l).toString():(10*l).toFixed(1),"%"]}),(0,m.jsx)(R,{children:p})]})]})]})})},X=l.Z.h3(W||(W=(0,d.Z)(["\n  font-size: 1.2rem;\n  margin-bottom: 10px;\n"]))),nn=l.Z.nav(M||(M=(0,d.Z)(["\n  display: flex;\n  column-gap: 20px;\n  margin-bottom: 20px;\n"]))),en=(0,l.Z)(A.OL)(G||(G=(0,d.Z)(["\n  position: relative;\n  font-weight: 400;\n\n  &.active::after,\n  &:hover::after {\n    content: '';\n    position: absolute;\n    bottom: -10px;\n    left: 0;\n    height: 3px;\n    width: 100%;\n    background-color: #3a3f47;\n  }\n"]))),tn=function(){return(0,m.jsx)(u.$0,{children:(0,m.jsxs)(u.W2,{children:[(0,m.jsx)(X,{name:"infoTitle",children:"Additional information"}),(0,m.jsxs)(nn,{children:[(0,m.jsx)(en,{to:"cast",children:"Cast"}),(0,m.jsx)(en,{to:"reviews",children:"Reviews"})]})]})})},rn=function(){var n,e,t=(0,a.useState)(null),r=(0,i.Z)(t,2),u=r[0],d=r[1],l=(0,a.useState)(!1),p=(0,i.Z)(l,2),f=p[0],g=p[1],x=(0,a.useState)(!1),v=(0,i.Z)(x,2),Z=v[0],w=v[1],j=(0,a.useState)(""),y=(0,i.Z)(j,2),k=y[0],_=y[1],I=(0,o.UO)().movieId,S=null!==(n=null===(e=(0,o.TH)().state)||void 0===e?void 0:e.from)&&void 0!==n?n:"/home";(0,a.useEffect)((function(){g(!0),(0,c.TP)(I).then(d).finally(g(!1)),(0,c.MS)(I).then((function(n){return _(n.key)})).catch((function(){_("Q5RsQWm3rOY?&amp;start=45")}))}),[I]);var J=u||{},O=J.backdrop_path,z=J.poster_path,Y=J.title,C=J.release_date,N=J.runtime,T=J.overview,U=J.genres,F=J.vote_average;return(0,m.jsxs)(m.Fragment,{children:[f&&(0,m.jsx)(s.a,{}),u&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(h,{imgUrl:O,handleOpen:function(){return w(!0)}}),(0,m.jsx)(V,{backLinkHref:S,poster:z,title:Y,release_date:C,runtime:N,genres:U,vote_average:F,overview:T,movieId:I}),(0,m.jsx)(tn,{}),(0,m.jsx)(o.j3,{}),(0,m.jsx)(b,{handleClose:function(){return w(!1)},open:Z,videoKey:k})]})]})}},5303:function(n,e,t){n.exports=t.p+"static/media/default-movie-poster.71253f31d01ef6cdd4cc.jpeg"}}]);
//# sourceMappingURL=488.b12e0ba8.chunk.js.map